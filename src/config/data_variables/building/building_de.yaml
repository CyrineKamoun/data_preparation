region_pbf:
  [
    "https://download.geofabrik.de/europe/germany/saarland-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/rheinland-pfalz-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/baden-wuerttemberg-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/bayern-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/brandenburg-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/sachsen-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/sachsen-anhalt-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/thueringen-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/mecklenburg-vorpommern-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/bremen-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/hamburg-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/niedersachsen-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/schleswig-holstein-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/nordrhein-westfalen-latest.osm.pbf",
    "https://download.geofabrik.de/europe/germany/hessen-latest.osm.pbf",
  ]

collection:
  city_gml:
    path_s3: "300001907_LoD2/lod2/"
    relevant_s3_files: ["bb.zip", "be.zip", "bw.zip", "by.zip", "hb.zip", "he.zip", "hh.zip", "mv.zip", "ni.zip", "nw.zip", "rp.zip", "sh.zip", "sl.zip", "sn.zip", "st.zip", "th.zip"] 
    remote_target_schema: "public"
    remote_target_table: "building_germany"
    geographical_extent: "SELECT id, gen, ST_ASTEXT(geom) AS geom FROM germany_states"
    
  osm_tags:
    building: [True]
  additional_columns:
    [
      "amenity",
      "leisure",
      "addr:street",
      "addr:housenumber",
      "building:levels",
      "roof:levels",
    ]
  nodes: False
  ways: True
  relations: False

preparation:
  schema: "basic"
  average_building_levels: 2
  average_roof_levels: 1
  study_area_ids: [
    1001,
    1002,
    1003,
    1004,
    1051,
    1053,
    1054,
    1055,
    1056,
    1057,
    1058,
    1059,
    1060,
    1061,
    1062,
    2000,
    3101,
    3102,
    3103,
    3151,
    3153,
    3154,
    3155,
    3157,
    3158,
    3159,
    3241,
    3251,
    3252,
    3254,
    3255,
    3256,
    3257,
    3351,
    3352,
    3353,
    3354,
    3355,
    3356,
    3357,
    3358,
    3359,
    3360,
    3361,
    3401,
    3402,
    3403,
    3404,
    3405,
    3451,
    3452,
    3453,
    3454,
    3455,
    3456,
    3457,
    3458,
    3459,
    3460,
    3461,
    3462,
    4011,
    4012,
    5111,
    5112,
    5113,
    5114,
    5116,
    5117,
    5119,
    5120,
    5122,
    5124,
    5154,
    5158,
    5162,
    5166,
    5170,
    5314,
    5315,
    5316,
    5334,
    5358,
    5362,
    5366,
    5370,
    5374,
    5378,
    5382,
    5512,
    5513,
    5515,
    5554,
    5558,
    5562,
    5566,
    5570,
    5711,
    5754,
    5758,
    5762,
    5766,
    5770,
    5774,
    5911,
    5913,
    5914,
    5915,
    5916,
    5954,
    5958,
    5962,
    5966,
    5970,
    5974,
    5978,
    6411,
    6412,
    6413,
    6414,
    6431,
    6432,
    6433,
    6434,
    6435,
    6436,
    6437,
    6438,
    6439,
    6440,
    6531,
    6532,
    6533,
    6534,
    6535,
    6611,
    6631,
    6632,
    6633,
    6634,
    6635,
    6636,
    7111,
    7131,
    7132,
    7133,
    7134,
    7135,
    7137,
    7138,
    7140,
    7141,
    7143,
    7211,
    7231,
    7232,
    7233,
    7235,
    7311,
    7312,
    7313,
    7314,
    7315,
    7316,
    7317,
    7318,
    7319,
    7320,
    7331,
    7332,
    7333,
    7334,
    7335,
    7336,
    7337,
    7338,
    7339,
    7340,
    8111,
    8115,
    8116,
    8117,
    8118,
    8119,
    8121,
    8125,
    8126,
    8127,
    8128,
    8135,
    8136,
    8211,
    8212,
    8215,
    8216,
    8221,
    8222,
    8225,
    8226,
    8231,
    8235,
    8236,
    8237,
    8315,
    8316,
    8317,
    8325,
    8326,
    8327,
    8335,
    8336,
    8337,
    8415,
    8416,
    8417,
    8421,
    8425,
    8426,
    8435,
    8436,
    8437,
    9161,
    9163,
    9171,
    9172,
    9173,
    9174,
    9175,
    9176,
    9177,
    9178,
    9179,
    9180,
    9181,
    9182,
    9183,
    9184,
    9185,
    9186,
    9187,
    9188,
    9189,
    9190,
    9261,
    9262,
    9263,
    9271,
    9272,
    9273,
    9274,
    9275,
    9276,
    9277,
    9278,
    9279,
    9361,
    9362,
    9363,
    9371,
    9372,
    9373,
    9374,
    9375,
    9376,
    9377,
    9461,
    9462,
    9463,
    9464,
    9471,
    9472,
    9473,
    9474,
    9475,
    9476,
    9477,
    9478,
    9479,
    9561,
    9562,
    9563,
    9564,
    9565,
    9571,
    9572,
    9573,
    9574,
    9575,
    9576,
    9577,
    9661,
    9662,
    9663,
    9671,
    9672,
    9673,
    9674,
    9675,
    9676,
    9677,
    9678,
    9679,
    9761,
    9762,
    9763,
    9764,
    9771,
    9772,
    9773,
    9774,
    9775,
    9776,
    9777,
    9778,
    9779,
    9780,
    10041,
    10042,
    10043,
    10044,
    10045,
    10046,
    11000,
    12051,
    12052,
    12053,
    12054,
    12060,
    12061,
    12062,
    12063,
    12064,
    12065,
    12066,
    12067,
    12068,
    12069,
    12070,
    12071,
    12072,
    12073,
    13003,
    13004,
    13071,
    13072,
    13073,
    13074,
    13075,
    13076,
    14511,
    14521,
    14522,
    14523,
    14524,
    14612,
    14625,
    14626,
    14627,
    14628,
    14713,
    14729,
    14730,
    15001,
    15002,
    15003,
    15081,
    15082,
    15083,
    15084,
    15085,
    15086,
    15087,
    15088,
    15089,
    15090,
    15091,
    16051,
    16052,
    16053,
    16054,
    16055,
    16061,
    16062,
    16063,
    16064,
    16065,
    16066,
    16067,
    16068,
    16069,
    16070,
    16071,
    16072,
    16073,
    16074,
    16075,
    16076,
    16077,
    83110000,
    91620000,
    99999995,
    99999996,
    99999997,
    99999998
  ]

  classification:
    residential_status:
      polygon:
        landuse_atkis:
          query: "SELECT geom FROM landuse_atkis WHERE objart_txt IN ('AX_Bahnverkehr','AX_Bahnverkehrsanlage','AX_BauwerkImGewaesserbereich','AX_BauwerkImVerkehrsbereich','AX_BauwerkOderAnlageFuerIndustrieUndGewerbe','AX_BauwerkOderAnlageFuerSportFreizeitUndErholung','AX_Bergbaubetrieb','AX_Boeschungsflaeche','AX_DammWallDeich','AX_Duene','AX_EinrichtungenFuerDenSchiffsverkehr','AX_FelsenFelsblockFelsnadel','AX_FlaecheBesondererFunktionalerPraegung','AX_Fliessgewaesser','AX_Flugverkehr','AX_Flugverkehrsanlage','AX_Friedhof','AX_Gehoelz','AX_Gewaessermerkmal','AX_Hafen','AX_Hafenbecken','AX_Halde','AX_Heide','AX_HistorischesBauwerkOderHistorischeEinrichtung','AX_IndustrieUndGewerbeflaeche','AX_Landwirtschaft','AX_Meer','AX_Moor','AX_Schiffsverkehr','AX_Schleuse','AX_SportFreizeitUndErholungsflaeche','AX_StehendesGewaesser','AX_Strassenverkehr','AX_Strassenverkehrsanlage','AX_Sumpf','AX_TagebauGrubeSteinbruch','AX_Testgelaende','AX_Transportanlage','AX_Turm','AX_UnlandVegetationsloseFlaeche','AX_Vegetationsmerkmal','AX_VorratsbehaelterSpeicherbauwerk','AX_Wald')"
          value: "'no_residents'"
          share: 0.5

        building_osm:
          query: "SELECT way AS geom FROM building_osm WHERE amenity IN ('hospital', 'university', 'community_centre', 'school', 'kindergarten', 'recreation_ground', 'wood') OR leisure IN ('zoo')"
          value: "'no_residents'"
          share: 0.5

        building_osm2:
          query: "SELECT way AS geom FROM building_osm WHERE building IN ('apartments', 'bungalow', 'detached', 'dormitory', 'residential', 'house', 'terrace', 'home', 'semidetached_house')"
          value: "'with_residents'"
          share: 0.5

      point:
        poi:
          query: "SELECT count(*) AS count FROM basic.poi p"
          value: "'no_residents'"
          count: 5

      attribute:
        building_type:
          with_residents:
            [
              "Wohngebäude",
              "Wohngebäude mit Gemeinbedarf",
              "Wohngebäude mit Gewerbe und Industrie",
              "Wohngebäude mit Handel und Dienstleistungen",
              "Wohnhaus",
              "Wohnheim",
              "Wohn- und Betriebsgebäude",
              "Wohn- und Bürogebäude",
              "Wohn- und Geschäftsgebäude",
              "Wohn- und Verwaltungsgebäude",
              "Wohn- und Wirtschaftsgebäude",
              "Gemischt genutztes Gebäude mit Wohnen",
              "Asylbewerberheim",
            ]
          no_residents:
            [
              "Schuppen",
              "Wasserbehälter",
              "Rundfunk, Fernsehen",
              "Umspannwerk",
              "Gebäude im Zoo",
              "Gebäude für Gesundheitswesen",
              "Festsaal",
              "Überdachung",
              "Feuerwachturm",
              "Empfangsgebäude",
              "Einkaufszentrum",
              "Scheune und Stall",
              "Gaswerk",
              "Wassermühle",
              "Gebäude zur Entsorgung",
              "Markthalle",
              "Land- und forstwirtschaftliches Betriebsgebäude",
              "Gebäude zur Versorgungsanlage",
              "Allgemein bildende Schule",
              "Schleusenkammer",
              "Gebäude für Handel und Dienstleistung mit Wohnen",
              "Sicherheitstor",
              "Elektrizitätswerk",
              "Stellwerk, Blockstelle",
              "Spielkasino",
              "Land- und forstwirtschaftliches Wohngebäude",
              "Gebäude für Sportzwecke",
              "Betriebsgebäude für Schiffsverkehr",
              "Verwaltungsgebäude",
              "Gebäude zur Energieversorgung",
              "Kammerschleuse",
              "Wartehalle",
              "Silo",
              "Portalkran",
              "Gebäude für Bewirtung",
              "Reithalle",
              "Gebäude zur Gasversorgung",
              "Zuschauertribüne",
              "Touristisches Informationszentrum",
              "Stadt-,Torturm",
              "Gericht",
              "Zuschauertribüne, nicht überdacht",
              "Apotheke",
              "Kaserne",
              "Hochschulgebäude (Fachhochschule, Universität)",
              "Windmühle",
              "Seniorenheim",
              "Funkmast",
              "Gebäude der Kläranlage",
              "Kreditinstitut",
              "Schutzgalerie, Einhausung",
              "Müllbunker",
              "Gebäude zur Freizeitgestaltung",
              "Gebäude für Sicherheit und Ordnung",
              "Studenten-, Schülerwohnheim",
              "Gebäude für kulturelle Zwecke",
              "Tank",
              "Forsthaus",
              "Gartenhaus",
              "Brauerei",
              "Kiosk",
              "Carport",
              "Gebäude an unterirdischen Leitungen",
              "Gebäude zum Sportplatz",
              "Veranstaltungsgebäude",
              "Berufsbildende Schule",
              "Gebäude zum Busbahnhof",
              "Wochenendhaus",
              "Kinderheim",
              "Kloster",
              "Lokschuppen, Wagenhalle",
              "Mast",
              "Zuschauertribüne, überdacht",
              "Speditionsgebäude",
              "Gebäude für betriebliche Sozialeinrichtung",
              "Freizeit-, Vereinsheim, Dorfgemeinschafts-, Bürgerhaus",
              "Staumauer",
              "Mauer",
              "Gotteshaus",
              "Versicherung",
              "Parkhaus",
              "Sport-, Turnhalle",
              "Kapelle",
              "Gebäude zur Versorgung",
              "Gewächshaus (Botanik)",
              "Gebäude für Erholungszwecke",
              "Gebäude für soziale Zwecke",
              "Gebäude für Handel und Dienstleistungen",
              "Sanatorium",
              "Aquarium, Terrarium, Voliere",
              "Land- und forstwirtschaftliches Wohn- und Betriebsgebäude",
              "Kantine",
              "Gebäude für Fernmeldewesen",
              "Stall im Zoo",
              "Kegel-, Bowlinghalle",
              "Gebäude für öffentliche Zwecke mit Wohnen",
              "Speichergebäude",
              "Seniorenfreizeitstätte",
              "Produktionsgebäude",
              "Betriebsgebäude für Straßenverkehr",
              "Befestigung (Burgruine)",
              "Treibhaus, Gewächshaus",
              "Badegebäude",
              "Ferienhaus",
              "Kran",
              "Freizeit- und Vergnügungsstätte",
              "Sperrwerk",
              "Gebäude zum Parken",
              "Schutzhütte",
              "Kesselhaus",
              "Hochbahn, Hochstraße",
              "Kühlturm",
              "Feuerwehr",
              "Finanzamt",
              "Aussichtsturm",
              "Betriebsgebäude zu Verkehrsanlagen (allgemein)",
              "Krankenhaus",
              "Betriebsgebäude des Güterbahnhofs",
              "Gebäude für religiöse Zwecke",
              "Friedhofsgebäude",
              "Betriebsgebäude für Schienenverkehr",
              "Laufkran",
              "Bergwerk",
              "Kaufhaus",
              "Gebäude im Stadion",
              "Geschäftsgebäude",
              "Heizwerk",
              "Sägewerk",
              "Campingplatzgebäude",
              "Trauerhalle",
              "Sonstige historische Mauer",
              "Bauernhaus",
              "Kinderkrippe, Kindergarten, Kindertagesstätte",
              "Tempel",
              "Jugendfreizeitheim",
              "Schutzbunker",
              "Gebäude zur Abwasserbeseitigung",
              "Schloss",
              "Kontrollturm",
              "Justizvollzugsanstalt",
              "Hotel, Motel, Pension",
              "Parkdeck",
              "Burg",
              "Toilette",
              "Tierschauhaus",
              "Wirtschaftsgebäude",
              "Gebäude für Beherbergung",
              "Gebäude für Land- und Forstwirtschaft",
              "Wasserturm",
              "Betriebsgebäude zur Seilbahn",
              "Schloss-, Burgturm",
              "Gewächshaus, verschiebbar",
              "Turbinenhaus",
              "Gebäude für Gewerbe und Industrie",
              "Schullandheim",
              "Bootshaus",
              "Fahrzeughalle",
              "Reaktorgebäude",
              "Kühlhaus",
              "Jugendherberge",
              "Bibliothek, Bücherei",
              "Betriebsgebäude",
              "Wehr",
              "Betriebsgebäude zur Schleuse",
              "Gemeindehaus",
              "Stall",
              "Wasserwerk",
              "Kino",
              "Gebäude für öffentliche Zwecke",
              "Gebäude für Vorratshaltung",
              "Hütte (ohne Übernachtungsmöglichkeit)",
              "Gebäude für Gewerbe und Industrie mit Wohnen",
              "Synagoge",
              "Biogasanlage",
              "Gebäude im Freibad",
              "Betriebsgebäude für Flugverkehr",
              "Bahnhofsgebäude",
              "Kirchturm",
              "Förderturm",
              "Gebäude zur Abfallbehandlung",
              "Jagdhaus, Jagdhütte",
              "Gebäude für Bildung und Forschung",
              "Gebäude zur Wasserversorgung",
              "Laden",
              "Hallenbad",
              "Treibhaus",
              "Gebäude für Forschungszwecke",
              "Umformer",
              "Sprungschanze (Anlauf)",
              "Ärztehaus, Poliklinik",
              "Pumpstation",
              "Gradierwerk",
              "Museum",
              "Gebäude der Abfalldeponie",
              "Waschstraße, Waschanlage, Waschhalle",
              "Garage",
              "Gebäude für Kurbetrieb",
              "Brücke",
              "Post",
              "Zollamt",
              "Lagerhalle, Lagerschuppen, Lagerhaus",
              "Kirche",
              "Scheune",
              "Freileitungsmast",
              "Gasometer",
              "Gebäude zur Müllverbrennung",
              "Gebäude zur Elektrizitätsversorgung",
              "Schöpfwerk",
              "Stall für Tiergroßhaltung",
              "Kreisverwaltung",
              "Sende-,Funkturm",
              "Gebäude für andere Erholungseinrichtung",
              "Heilanstalt, Pflegeanstalt, Pflegestation",
              "Pumpwerk (nicht für Wasserversorgung)",
              "Messehalle",
              "Polizei",
              "Gebäude für Wirtschaft oder Gewerbe",
              "Theater, Oper",
              "Sonstiges",
              "Gebäude für Grundstoffgewinnung",
              "Bezirksregierung",
              "Fabrik",
              "Schornstein",
              "Stadion",
              "Bürogebäude",
              "Solarzellen",
              "Badegebäude für medizinische Zwecke",
              "Stadtmauer",
              "Werkstatt",
              "Schwesternwohnheim",
              "Moschee",
              "Burg, Festung",
              "Forschungsinstitut",
              "Flugzeughalle",
              "Gaststätte, Restaurant",
              "Rathaus",
              "Historische Mauer",
              "Tankstelle",
              "Sonstiges Gebäude für Gewerbe und Industrie",
              "Bahnwärterhaus",
              "Krematorium",
              "Straßenmeisterei",
              "Denkmal",
              "Windrad",
            ]



        # address:
        #   query: "SELECT count(*) AS count FROM public.ga_germany p"
        #   db: "foreign"
        #   value: "'no_residents'"
        #   count: 0


    building_levels_residential:
      point:
        poi_osm:
          query: "SELECT CASE WHEN count(*) > 0 THEN 1 END AS substract FROM planet_osm_point p WHERE (shop IS NOT NULL	OR	amenity IS NOT NULL	OR	office IS NOT NULL) AND ST_Intersects(b.geom, p.way)"
        poi:
          query: "SELECT CASE WHEN count(*) > 0 THEN 1 END AS substract FROM basic.poi p WHERE ST_Intersects(b.geom, p.geom)"
